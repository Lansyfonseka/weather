!function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);n(1);var a={};var o='<header>\n<div class="container">\n    <div class="switches">\n        <button class="refresh"><img src="./source/images/return.svg" alt=""></button>\n        <select name="language" class="language">\n            <option value="eng">ENG</option>\n            <option value="rus">RUS</option>\n            <option value="blr">BLR</option>\n        </select>\n        <div class="degree">\n            <button class="celsius">&#176;C</button>\n            <button class="fahrenheit">&#176;F</button>\n        </div>\n    </div>\n    <div class="search">\n        <input type="text" placeholder="" class="search--input">\n        <button class="search--microphone"><img src="./source/images/microphone.svg" alt="microphone"></button>\n        <button class="search--button"></button>\n    </div>\n</div>\n</header>\n<main>\n<div class="container">\n    <div class="information">\n        <div class="information--location">\n            <h3 class="information--location-city"></h3>\n            <p  class="information--location-country"></p>\n        </div>\n        <div class="information--date"></div>\n        <div class="information--short"></div>\n        <div class="information--current">\n            <span class="information--current-temperature"></span>\n            <img alt="weather" class="information--current-icon">\n        </div>\n        <div class="information--detail">\n            <span class="information--detail-feels"></span>\n            <span  class="information--detail-wind"></span>\n            <span  class="information--detail-humidity"></span>\n        </div>\n        <div class="information--daily">\n            <div>\n                <p class="information--daily-week_day"></p>\n                <img alt="weather" class="information--daily-icon">\n                <span class="information--daily-day"></span>\n                <span class="information--daily-night"></span>\n            </div>\n            <div>\n                <p class="information--daily-week_day"></p>\n                <img alt="weather" class="information--daily-icon">\n                <span class="information--daily-day"></span>\n                <span class="information--daily-night"></span>\n            </div>\n            <div>\n                <p class="information--daily-week_day"></p>\n                <img alt="weather" class="information--daily-icon">\n                <span class="information--daily-day"></span>\n                <span class="information--daily-night"></span>\n            </div>\n        </div>\n    </div>\n    <div class="map">\n        <div id="map"></div>\n        <p class="latitude"></p>\n        <p class="longitude"></p>\n    </div>\n</div>\n</main>';function r(){const e=new ymaps.Map("map",{center:[+a.location.location[0],+a.location.location[1]],zoom:11}),t=i.bind(e);a.controls.buttonSearch.addEventListener("click",t)}async function i(){if(a.controls.searchInput.value){const e=a.controls.searchInput.value;ymaps.geocode(e,{results:1}).then(e=>{const t=e.geoObjects.get(0).properties.get("boundedBy");this.setBounds(t,{checkZoomRange:!0})})}else alert("Choose city")}var c={en:{weather:{"clear-day":"Clear day","clear-night":"Clear night",rain:"Rain",snow:"Snow",sleet:"Sleet",wind:"Wind",fog:"Fog",cloudy:"Cloudy","partly-cloudy-day":"Partly cloudy day","partly-cloudy-night":"Partly cloudy night",hail:"Hail",thunderstorm:"Thunderstorm"},week:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortWeek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],month:["January","February","March","April","May","June","July","August","September","October","November","December"],other:["Search","Search City","Latitude","Longitude","Feels like","Wind speed","m/s","Humidity"]},ru:{weather:{"clear-day":"Ясный день","clear-night":"Ясная ночь",rain:"Дождь",snow:"Снег",sleet:"Мокрый снег",wind:"Ветрено",fog:"Туман",cloudy:"Облачно","partly-cloudy-day":"Пасмурный день","partly-cloudy-night":"Пасмурная ночь",hail:"Град",thunderstorm:"Гроза"},week:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],shortWeek:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],month:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],other:["Поиск","Поиск города","Широта","Долгота","Ощущается","Скорость ветра","м/с","Влажность"]},be:{weather:{"clear-day":"Ясны дзень","clear-night":"Ясная ноч",rain:"Дождж",snow:"Снег",sleet:"Мокры снег",wind:"Ветрана",fog:"Туман",cloudy:"Воблачна","partly-cloudy-day":"Пахмурны дзень","partly-cloudy-night":"Значная ноч",hail:"Град",thunderstorm:"Навальница"},week:["Нядзеля","Панядзелак","Аўторак","Серада","Чацвер","Пятнiца","Субота"],shortWeek:["Нд","Пн","Аў","Ср","Чц","Пт","Сб"],month:["Студзень","Люты","Сакавiк","Красавiк","Май","Червень","Лiпень","Жнiвень","Верасень","Кастрычнiк","Лiстапад","Снежань"],other:["Пошук","Пошук горада","Шырота","Даўгата","Адчуваецца","Чуткасць ветру","м/с","Вільготнасць"]}};function l(e){return e<10?`0${e}`:e}async function u(){const e=await async function(){const e=a.location.location,t=`http://api.timezonedb.com/v2.1/get-time-zone?key=LTTERDWSPFPY&format=json&by=position&lat=${e[0]}&lng=${e[1]}`;return(await fetch(t).then(e=>e.json())).gmtOffset}()/3600,t=new Date;t.setHours(t.getUTCHours()+e),a.timer=setInterval(()=>{!function(e){const t=a.language,n=e.getDay(),o=e.getDate(),r=e.getMonth(),i=e.getHours(),u=e.getMinutes(),s=e.getSeconds();a.textContent.currentDate.textContent=`${c[t].shortWeek[n]} ${o} ${c[t].month[r]} ${l(i)}:${l(u)}:${l(s)}`;const d=new Date(e.getTime());d.setDate(o+1),a.textContent.weekDay[0].textContent=`${c[t].week[d.getDay()]}`,d.setDate(o+2),a.textContent.weekDay[1].textContent=`${c[t].week[d.getDay()]}`,d.setDate(o+3),a.textContent.weekDay[2].textContent=`${c[t].week[d.getDay()]}`}(t),t.setSeconds(t.getSeconds()+1)},1e3)}async function s(){const e=`https://api.opencagedata.com/geocode/v1/json?q=${a.controls.searchInput.value?a.controls.searchInput.value:a.location.city}&key=4fbd6d8f07074f94bad78310b8cb8e82&pretty=1&no_annotations=1&language=${a.language}`,t=await fetch(e).then(e=>e.json()),n={city:t.results[0].components.state,country:t.results[0].components.country,location:[t.results[0].geometry.lat,t.results[0].geometry.lng]};return a.nowTime=t.rate.reset,n}var d=function(e){return e.urls.regular};function y(e){!function(){const e=document.querySelector(".refresh").firstChild;e.classList.add("rotate"),setInterval(()=>{e.classList.remove("rotate")},200)}(),document.body.style.background=`url(${e})`,document.body.style.backgroundRepeat="no-repeat",document.body.style.backgroundSize="cover"}async function h(){y(await async function(){const e=await fetch("https://api.unsplash.com/photos/random?orientation=landscape&auto=format&per_page=1&query=nature&client_id=4038fc7d538bf2c45797967cf174301b07a08006f3b52cee663f524f28daba6e").then(e=>e.json());return d(e)}())}function m(){if("Enter"===event.key){const e=new Event("click");a.controls.buttonSearch.dispatchEvent(e)}}async function p(){const e=await async function(){const e=`https://api.darksky.net/forecast/05f19d4175f26d012ae68f5589fe34fe/${a.location.location[0].toFixed(4)},${a.location.location[1].toFixed(4)}?units=si`;return await fetch("https://evening-basin-27448.herokuapp.com/"+e).then(e=>e.json())}(),t={icon:e.currently.icon,temperature:Math.round(e.currently.temperature),humidity:Math.round(100*e.currently.humidity),windSpeed:Math.round(e.currently.windSpeed),apparentTemperature:Math.round(e.currently.apparentTemperature)},n=e.daily.data;return{currentlyWeather:t,dailyWeather:{0:{icon:n[0].icon,temperatureMax:Math.round(n[0].temperatureMax),temperatureMin:Math.round(n[0].temperatureMin)},1:{icon:n[1].icon,temperatureMax:Math.round(n[1].temperatureMax),temperatureMin:Math.round(n[1].temperatureMin)},2:{icon:n[2].icon,temperatureMax:Math.round(n[2].temperatureMax),temperatureMin:Math.round(n[2].temperatureMin)}}}}function g(e){const t=e[0].toFixed(4),n=e[1].toFixed(4);a.location.location[0]<0?a.controls.informationLatitude.textContent=`${c[a.language].other[2]}: ${t.slice(0,3)}°${t.slice(4,6)}'${t.slice(6,8)}"`:a.controls.informationLatitude.textContent=`${c[a.language].other[2]}: ${t.slice(0,2)}°${t.slice(3,5)}'${t.slice(5,7)}"`,a.location.location[1]<0?a.controls.informationLongitude.textContent=`${c[a.language].other[3]}: ${n.slice(0,3)}°${n.slice(4,6)}'${n.slice(6,8)}"`:a.controls.informationLongitude.textContent=`${c[a.language].other[3]}: ${n.slice(0,2)}°${n.slice(3,5)}'${n.slice(5,7)}"`}function f(e){const t=1.8*e+32;return Math.round(t)}function x(e){const t=a.language;if("F"===a.temperature){a.textContent.currentTemperature.textContent=`${f(e.currentlyWeather.temperature)}°`,a.textContent.currentFeels.textContent=`${c[t].other[4]}: ${f(e.currentlyWeather.apparentTemperature)}°`;for(let t in e.dailyWeather)a.textContent.dailyTemperatureDay[t].textContent=`${f(e.dailyWeather[t].temperatureMax)}°`,a.textContent.dailyTemperatureNight[t].textContent=`${f(e.dailyWeather[t].temperatureMin)}°`}if("C"===a.temperature){a.textContent.currentTemperature.textContent=`${e.currentlyWeather.temperature}°`,a.textContent.currentFeels.textContent=`${c[t].other[4]}: ${e.currentlyWeather.apparentTemperature}°`;for(let t in e.dailyWeather)a.textContent.dailyTemperatureDay[t].textContent=`${e.dailyWeather[t].temperatureMax}°`,a.textContent.dailyTemperatureNight[t].textContent=`${e.dailyWeather[t].temperatureMin}°`}a.textContent.locationCity.textContent=a.location.city,a.textContent.locationCountry.textContent=a.location.country,a.textContent.currentDate.textContent="",a.textContent.currentShortWeather.textContent=c[t].weather[e.currentlyWeather.icon],a.textContent.currentIcon.src=`./source/images/weather/${e.currentlyWeather.icon}.svg`,a.textContent.currentWind.textContent=`${c[t].other[5]}: ${e.currentlyWeather.windSpeed}${c.en.other[6]}`,a.textContent.currentHumidity.textContent=`${c[t].other[7]}: ${e.currentlyWeather.humidity}`;for(let t in e.dailyWeather)a.textContent.dailyIcon[t].src=`./source/images/weather/${e.dailyWeather[t].icon}.svg`}async function v(){a.controls.searchInput.value&&(clearInterval(a.timer),a.location=await s(),a.weather=await p(),x(a.weather),g(a.location.location),u())}async function C(){switch(a.controls.language.value){case"eng":a.language="en",localStorage.language=a.language;break;case"rus":a.language="ru",localStorage.language=a.language;break;case"blr":a.language="be",localStorage.language=a.language}a.controls.buttonSearch.textContent=`${c[a.language].other[0]}`,a.controls.searchInput.placeholder=`${c[a.language].other[1]}`,a.location=await s(),g(a.location.location),x(a.weather)}function w(){a.temperature="F",localStorage.temperature=a.temperature,a.controls.fahrenheit.classList.add("degree-active"),a.controls.celsius.classList.remove("degree-active");const e=a.weather,t=a.language;a.textContent.currentTemperature.textContent=`${f(e.currentlyWeather.temperature)}°`,a.textContent.currentFeels.textContent=`${c[t].other[4]}: ${f(e.currentlyWeather.apparentTemperature)}°`;for(let t in e.dailyWeather)a.textContent.dailyTemperatureDay[t].textContent=`${f(e.dailyWeather[t].temperatureMax)}°`,a.textContent.dailyTemperatureNight[t].textContent=`${f(e.dailyWeather[t].temperatureMin)}°`}function b(){a.temperature="C",localStorage.temperature=a.temperature,a.controls.fahrenheit.classList.remove("degree-active"),a.controls.celsius.classList.add("degree-active");const e=a.weather,t=a.language;a.textContent.currentTemperature.textContent=`${e.currentlyWeather.temperature}°`,a.textContent.currentFeels.textContent=`${c[t].other[4]}: ${e.currentlyWeather.apparentTemperature}°`;for(let t in e.dailyWeather)a.textContent.dailyTemperatureDay[t].textContent=`${e.dailyWeather[t].temperatureMax}°`,a.textContent.dailyTemperatureNight[t].textContent=`${e.dailyWeather[t].temperatureMin}°`}function S(){window.SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition;const e=new SpeechRecognition;e.interimResults=!0,e.lang="en";let t="";e.addEventListener("result",e=>{const n=Array.from(e.results).map(e=>e[0]).map(e=>e.transcript).join("");t=n}),e.addEventListener("end",()=>{a.controls.searchInput.value=t;const e=new Event("click");a.controls.buttonSearch.dispatchEvent(e)}),e.start()}!async function(){localStorage.language||(localStorage.language="en"),localStorage.temperature||(localStorage.temperature="C"),a.language=localStorage.language,a.temperature=localStorage.temperature,function(e){const t=document.createElement("div");t.innerHTML=e,document.body.appendChild(t)}(o),h(),a.controls={},a.controls.buttonSearch=document.querySelector(".search--button"),a.controls.buttonRefresh=document.querySelector(".refresh"),a.controls.language=document.querySelector(".language"),a.controls.fahrenheit=document.querySelector(".fahrenheit"),a.controls.celsius=document.querySelector(".celsius"),a.controls.searchInput=document.querySelector(".search--input"),a.controls.microphone=document.querySelector(".search--microphone"),a.controls.informationLongitude=document.querySelector(".longitude"),a.controls.informationLatitude=document.querySelector(".latitude"),a.textContent={},a.textContent.locationCity=document.querySelector(".information--location-city"),a.textContent.locationCountry=document.querySelector(".information--location-country"),a.textContent.currentDate=document.querySelector(".information--date"),a.textContent.currentShortWeather=document.querySelector(".information--short"),a.textContent.currentTemperature=document.querySelector(".information--current-temperature"),a.textContent.currentIcon=document.querySelector(".information--current-icon"),a.textContent.currentFeels=document.querySelector(".information--detail-feels"),a.textContent.currentWind=document.querySelector(".information--detail-wind"),a.textContent.currentHumidity=document.querySelector(".information--detail-humidity"),a.textContent.weekDay=document.querySelectorAll(".information--daily-week_day"),a.textContent.dailyIcon=document.querySelectorAll(".information--daily-icon"),a.textContent.dailyTemperatureDay=document.querySelectorAll(".information--daily-day"),a.textContent.dailyTemperatureNight=document.querySelectorAll(".information--daily-night"),function(){switch(a.controls.buttonSearch.textContent=`${c[a.language].other[0]}`,a.controls.searchInput.placeholder=`${c[a.language].other[1]}`,a.language){case"en":a.controls.language.selectedIndex=0;break;case"ru":a.controls.language.selectedIndex=1;break;case"be":a.controls.language.selectedIndex=2}"C"==a.temperature&&a.controls.celsius.classList.toggle("degree-active"),"F"==a.temperature&&a.controls.fahrenheit.classList.toggle("degree-active"),a.controls.buttonRefresh.addEventListener("click",h),a.controls.searchInput.addEventListener("keydown",m),a.controls.buttonSearch.addEventListener("click",v),a.controls.language.addEventListener("change",C),a.controls.fahrenheit.addEventListener("click",w),a.controls.celsius.addEventListener("click",b),a.controls.microphone.addEventListener("click",S)}(),a.location||(a.location=await async function(){const e=await fetch("https://ipinfo.io/json?token=3fab45faab3551").then(e=>e.json()),t=e.loc.split(",");return{location:[+t[0],+t[1]],city:e.city}}()),ymaps.ready(r),a.location=await s(),a.weather=await p(),g(a.location.location),x(a.weather),u()}()},function(e,t){}]);