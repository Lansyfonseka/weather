!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);n(1);var o={};function a(){const e=new ymaps.Map("map",{center:[+o.location.location[0],+o.location.location[1]],zoom:11}),t=r.bind(e);o.controls.buttonSearch.addEventListener("click",t)}async function r(){if(o.controls.searchInput.value){const e=o.controls.searchInput.value;ymaps.geocode(e,{results:1}).then(e=>{const t=e.geoObjects.get(0).properties.get("boundedBy");this.setBounds(t,{checkZoomRange:!0})})}else alert("Choose city")}var i={en:{weather:{"clear-day":"Clear day","clear-night":"Clear night",rain:"Rain",snow:"Snow",sleet:"Sleet",wind:"Wind",fog:"Fog",cloudy:"Cloudy","partly-cloudy-day":"Partly cloudy day","partly-cloudy-night":"Partly cloudy night",hail:"Hail",thunderstorm:"Thunderstorm"},week:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortWeek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],month:["January","February","March","April","May","June","July","August","September","October","November","December"],other:["Search","Search City","Latitude","Longitude","Feels like","Wind speed","m/s","Humidity"]},ru:{weather:{"clear-day":"Ясный день","clear-night":"Ясная ночь",rain:"Дождь",snow:"Снег",sleet:"Мокрый снег",wind:"Ветрено",fog:"Туман",cloudy:"Облачно","partly-cloudy-day":"Пасмурный день","partly-cloudy-night":"Пасмурная ночь",hail:"Град",thunderstorm:"Гроза"},week:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],shortWeek:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],month:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],other:["Поиск","Поиск города","Широта","Долгота","Ощущается","Скорость ветра","м/с","Влажность"]},be:{weather:{"clear-day":"Ясны дзень","clear-night":"Ясная ноч",rain:"Дождж",snow:"Снег",sleet:"Мокры снег",wind:"Ветрана",fog:"Туман",cloudy:"Воблачна","partly-cloudy-day":"Пахмурны дзень","partly-cloudy-night":"Значная ноч",hail:"Град",thunderstorm:"Навальница"},week:["Нядзеля","Панядзелак","Аўторак","Серада","Чацвер","Пятнiца","Субота"],shortWeek:["Нд","Пн","Аў","Ср","Чц","Пт","Сб"],month:["Студзень","Люты","Сакавiк","Красавiк","Май","Червень","Лiпень","Жнiвень","Верасень","Кастрычнiк","Лiстапад","Снежань"],other:["Пошук","Пошук горада","Шырота","Даўгата","Адчуваецца","Чуткасць ветру","м/с","Вільготнасць"]}};function c(e){return e<10?"0"+e:e}async function l(){const e=await async function(){const e=o.location.location,t=`http://api.timezonedb.com/v2.1/get-time-zone?key=LTTERDWSPFPY&format=json&by=position&lat=${e[0]}&lng=${e[1]}`;return(await fetch(t).then(e=>e.json())).gmtOffset}()/3600,t=new Date;t.setHours(t.getUTCHours()+e),o.timer=setInterval(()=>{!function(e){const t=o.language,n=e.getDay(),a=e.getDate(),r=e.getMonth(),l=e.getHours(),u=e.getMinutes(),s=e.getSeconds();o.textContent.currentDate.textContent=`${i[t].shortWeek[n]} ${a} ${i[t].month[r]} ${c(l)}:${c(u)}:${c(s)}`;const d=new Date(e.getTime());d.setDate(a+1),o.textContent.weekDay[0].textContent=""+i[t].week[d.getDay()],d.setDate(a+2),o.textContent.weekDay[1].textContent=""+i[t].week[d.getDay()],d.setDate(a+3),o.textContent.weekDay[2].textContent=""+i[t].week[d.getDay()]}(t),t.setSeconds(t.getSeconds()+1)},1e3)}async function u(){const e=`https://api.opencagedata.com/geocode/v1/json?q=${o.controls.searchInput.value?o.controls.searchInput.value:o.location.city}&key=4fbd6d8f07074f94bad78310b8cb8e82&pretty=1&no_annotations=1&language=${o.language}`,t=await fetch(e).then(e=>e.json()),n={city:t.results[0].components.state,country:t.results[0].components.country,location:[t.results[0].geometry.lat,t.results[0].geometry.lng]};return o.nowTime=t.rate.reset,n}function s(e){!function(){const e=document.querySelector(".refresh").firstChild;e.classList.add("rotate"),setInterval(()=>{e.classList.remove("rotate")},200)}(),document.body.style.background=`url(${e})`,document.body.style.backgroundRepeat="no-repeat",document.body.style.backgroundSize="cover"}async function d(){s(await async function(){return function(e){return e.urls.small}(await fetch("https://api.unsplash.com/photos/random?orientation=landscape&per_page=1&query=nature&client_id=4038fc7d538bf2c45797967cf174301b07a08006f3b52cee663f524f28daba6e").then(e=>e.json()))}())}function y(){if("Enter"===event.key){const e=new Event("click");o.controls.buttonSearch.dispatchEvent(e)}}async function h(){const e=await async function(){const e=`https://api.darksky.net/forecast/2bf27985f5a6844febcdc43c99cc81ce/${o.location.location[0].toFixed(4)},${o.location.location[1].toFixed(4)}?units=si`;return await fetch("https://evening-basin-27448.herokuapp.com/"+e).then(e=>e.json())}(),t={icon:e.currently.icon,temperature:Math.round(e.currently.temperature),humidity:100*e.currently.humidity,windSpeed:Math.round(e.currently.windSpeed),apparentTemperature:Math.round(e.currently.apparentTemperature)},n=e.daily.data;return{currentlyWeather:t,dailyWeather:{0:{icon:n[0].icon,temperatureMax:Math.round(n[0].temperatureMax),temperatureMin:Math.round(n[0].temperatureMin)},1:{icon:n[1].icon,temperatureMax:Math.round(n[1].temperatureMax),temperatureMin:Math.round(n[1].temperatureMin)},2:{icon:n[2].icon,temperatureMax:Math.round(n[2].temperatureMax),temperatureMin:Math.round(n[2].temperatureMin)}}}}function m(e){const t=e[0].toFixed(4),n=e[1].toFixed(4);o.location.location[0]<0?o.controls.informationLatitude.textContent=`${i[o.language].other[2]}: ${t.slice(0,3)}°${t.slice(4,6)}'${t.slice(6,8)}"`:o.controls.informationLatitude.textContent=`${i[o.language].other[2]}: ${t.slice(0,2)}°${t.slice(3,5)}'${t.slice(5,7)}"`,o.location.location[1]<0?o.controls.informationLongitude.textContent=`${i[o.language].other[3]}: ${n.slice(0,3)}°${n.slice(4,6)}'${n.slice(6,8)}"`:o.controls.informationLongitude.textContent=`${i[o.language].other[3]}: ${n.slice(0,2)}°${n.slice(3,5)}'${n.slice(5,7)}"`}function p(e){const t=1.8*e+32;return Math.round(t)}function g(e){const t=o.language;if("F"===o.temperature){o.textContent.currentTemperature.textContent=p(e.currentlyWeather.temperature)+"°",o.textContent.currentFeels.textContent=`${i[t].other[4]}: ${p(e.currentlyWeather.apparentTemperature)}°`;for(let t in e.dailyWeather)o.textContent.dailyTemperatureDay[t].textContent=p(e.dailyWeather[t].temperatureMax)+"°",o.textContent.dailyTemperatureNight[t].textContent=p(e.dailyWeather[t].temperatureMin)+"°"}if("C"===o.temperature){o.textContent.currentTemperature.textContent=e.currentlyWeather.temperature+"°",o.textContent.currentFeels.textContent=`${i[t].other[4]}: ${e.currentlyWeather.apparentTemperature}°`;for(let t in e.dailyWeather)o.textContent.dailyTemperatureDay[t].textContent=e.dailyWeather[t].temperatureMax+"°",o.textContent.dailyTemperatureNight[t].textContent=e.dailyWeather[t].temperatureMin+"°"}o.textContent.locationCity.textContent=o.location.city,o.textContent.locationCountry.textContent=o.location.country,o.textContent.currentDate.textContent="",o.textContent.currentShortWeather.textContent=i[t].weather[e.currentlyWeather.icon],o.textContent.currentIcon.src=`./source/images/weather/${e.currentlyWeather.icon}.svg`,o.textContent.currentWind.textContent=`${i[t].other[5]}: ${e.currentlyWeather.windSpeed}${i.en.other[6]}`,o.textContent.currentHumidity.textContent=`${i[t].other[7]}: ${e.currentlyWeather.humidity}`;for(let t in e.dailyWeather)o.textContent.dailyIcon[t].src=`./source/images/weather/${e.dailyWeather[t].icon}.svg`}async function f(){o.controls.searchInput.value&&(clearInterval(o.timer),o.location=await u(),o.weather=await h(),g(o.weather),m(o.location.location),l())}async function x(){switch(o.controls.language.value){case"eng":o.language="en",localStorage.language=o.language;break;case"rus":o.language="ru",localStorage.language=o.language;break;case"blr":o.language="be",localStorage.language=o.language}o.controls.buttonSearch.textContent=""+i[o.language].other[0],o.controls.searchInput.placeholder=""+i[o.language].other[1],o.location=await u(),m(o.location.location),g(o.weather)}function C(){o.temperature="F",localStorage.temperature=o.temperature,o.controls.fahrenheit.classList.toggle("degree-active"),o.controls.celsius.classList.toggle("degree-active");const e=o.weather,t=o.language;o.textContent.currentTemperature.textContent=p(e.currentlyWeather.temperature)+"°",o.textContent.currentFeels.textContent=`${i[t].other[4]}: ${p(e.currentlyWeather.apparentTemperature)}°`;for(let t in e.dailyWeather)o.textContent.dailyTemperatureDay[t].textContent=p(e.dailyWeather[t].temperatureMax)+"°",o.textContent.dailyTemperatureNight[t].textContent=p(e.dailyWeather[t].temperatureMin)+"°"}function v(){o.temperature="C",localStorage.temperature=o.temperature,o.controls.fahrenheit.classList.toggle("degree-active"),o.controls.celsius.classList.toggle("degree-active");const e=o.weather,t=o.language;o.textContent.currentTemperature.textContent=e.currentlyWeather.temperature+"°",o.textContent.currentFeels.textContent=`${i[t].other[4]}: ${e.currentlyWeather.apparentTemperature}°`;for(let t in e.dailyWeather)o.textContent.dailyTemperatureDay[t].textContent=e.dailyWeather[t].temperatureMax+"°",o.textContent.dailyTemperatureNight[t].textContent=e.dailyWeather[t].temperatureMin+"°"}function w(){window.SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition;const e=new SpeechRecognition;e.interimResults=!0,e.lang="en";let t="";e.addEventListener("result",e=>{const n=Array.from(e.results).map(e=>e[0]).map(e=>e.transcript).join("");t=n}),e.addEventListener("end",()=>{o.controls.searchInput.value=t;const e=new Event("click");o.controls.buttonSearch.dispatchEvent(e)}),e.start()}!async function(){localStorage.language||(localStorage.language="en"),localStorage.temperature||(localStorage.temperature="C"),o.language=localStorage.language,o.temperature=localStorage.temperature,function(e){const t=document.createElement("div");t.innerHTML=e,document.body.appendChild(t)}('<header>\n<div class="container">\n    <div class="switches">\n        <button class="refresh"><img src="./source/images/return.svg" alt=""></button>\n        <select name="language" class="language">\n            <option value="eng">ENG</option>\n            <option value="rus">RUS</option>\n            <option value="blr">BLR</option>\n        </select>\n        <div class="degree">\n            <button class="celsius">&#176;C</button>\n            <button class="fahrenheit">&#176;F</button>\n        </div>\n    </div>\n    <div class="search">\n        <input type="text" placeholder="" class="search--input">\n        <button class="search--microphone"><img src="./source/images/microphone.svg" alt="microphone"></button>\n        <button class="search--button"></button>\n    </div>\n</div>\n</header>\n<main>\n<div class="container">\n    <div class="information">\n        <div class="information--location">\n            <h3 class="information--location-city"></h3>\n            <p  class="information--location-country"></p>\n        </div>\n        <div class="information--date"></div>\n        <div class="information--short"></div>\n        <div class="information--current">\n            <span class="information--current-temperature"></span>\n            <img alt="weather" class="information--current-icon">\n        </div>\n        <div class="information--detail">\n            <span class="information--detail-feels"></span>\n            <span  class="information--detail-wind"></span>\n            <span  class="information--detail-humidity"></span>\n        </div>\n        <div class="information--daily">\n            <div>\n                <p class="information--daily-week_day"></p>\n                <img alt="weather" class="information--daily-icon">\n                <span class="information--daily-day"></span>\n                <span class="information--daily-night"></span>\n            </div>\n            <div>\n                <p class="information--daily-week_day"></p>\n                <img alt="weather" class="information--daily-icon">\n                <span class="information--daily-day"></span>\n                <span class="information--daily-night"></span>\n            </div>\n            <div>\n                <p class="information--daily-week_day"></p>\n                <img alt="weather" class="information--daily-icon">\n                <span class="information--daily-day"></span>\n                <span class="information--daily-night"></span>\n            </div>\n        </div>\n    </div>\n    <div class="map">\n        <div id="map"></div>\n        <p class="latitude"></p>\n        <p class="longitude"></p>\n    </div>\n</div>\n</main>'),d(),o.controls={},o.controls.buttonSearch=document.querySelector(".search--button"),o.controls.buttonRefresh=document.querySelector(".refresh"),o.controls.language=document.querySelector(".language"),o.controls.fahrenheit=document.querySelector(".fahrenheit"),o.controls.celsius=document.querySelector(".celsius"),o.controls.searchInput=document.querySelector(".search--input"),o.controls.microphone=document.querySelector(".search--microphone"),o.controls.informationLongitude=document.querySelector(".longitude"),o.controls.informationLatitude=document.querySelector(".latitude"),o.textContent={},o.textContent.locationCity=document.querySelector(".information--location-city"),o.textContent.locationCountry=document.querySelector(".information--location-country"),o.textContent.currentDate=document.querySelector(".information--date"),o.textContent.currentShortWeather=document.querySelector(".information--short"),o.textContent.currentTemperature=document.querySelector(".information--current-temperature"),o.textContent.currentIcon=document.querySelector(".information--current-icon"),o.textContent.currentFeels=document.querySelector(".information--detail-feels"),o.textContent.currentWind=document.querySelector(".information--detail-wind"),o.textContent.currentHumidity=document.querySelector(".information--detail-humidity"),o.textContent.weekDay=document.querySelectorAll(".information--daily-week_day"),o.textContent.dailyIcon=document.querySelectorAll(".information--daily-icon"),o.textContent.dailyTemperatureDay=document.querySelectorAll(".information--daily-day"),o.textContent.dailyTemperatureNight=document.querySelectorAll(".information--daily-night"),function(){switch(o.controls.buttonSearch.textContent=""+i[o.language].other[0],o.controls.searchInput.placeholder=""+i[o.language].other[1],o.language){case"en":o.controls.language.selectedIndex=0;break;case"ru":o.controls.language.selectedIndex=1;break;case"be":o.controls.language.selectedIndex=2}"C"==o.temperature&&o.controls.celsius.classList.toggle("degree-active"),"F"==o.temperature&&o.controls.fahrenheit.classList.toggle("degree-active"),o.controls.buttonRefresh.addEventListener("click",d),o.controls.searchInput.addEventListener("keydown",y),o.controls.buttonSearch.addEventListener("click",f),o.controls.language.addEventListener("change",x),o.controls.fahrenheit.addEventListener("click",C),o.controls.celsius.addEventListener("click",v),o.controls.microphone.addEventListener("click",w)}(),o.location||(o.location=await async function(){const e=await fetch("https://ipinfo.io/json?token=3fab45faab3551").then(e=>e.json()),t=e.loc.split(",");return{location:[+t[0],+t[1]],city:e.city}}()),ymaps.ready(a),o.location=await u(),o.weather=await h(),m(o.location.location),g(o.weather),l()}()},function(e,t){}]);